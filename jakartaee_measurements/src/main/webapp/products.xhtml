<!DOCTYPE html>
<html xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
	<meta charset="UTF-8" />
	<title>Products and Measurements</title>
</h:head>

<h:body>
	<f:view>
		<h:form>

			[ <a href="#{facesContext.externalContext.applicationContextPath}/faces/products.xhtml">Products</a> |
			  <a href="#{facesContext.externalContext.applicationContextPath}/faces/edit_product.xhtml?product=-1">Add a product</a> ]
			<hr />

			<h:dataTable value="#{measurementsapp.allProducts}" var="p">
				<h:column>
					<f:facet name="header">Product</f:facet>
					<h:link value="#{p.name}" outcome="measurements">
						<f:param name="product" value="#{p.id}" />
					</h:link>
				</h:column>
				<h:column>
					<f:facet name="header">Min. temperature</f:facet>
					#{p.minMeasure}
				</h:column>
				<h:column>
					<f:facet name="header">Max temperature</f:facet>
					#{p.maxMeasure}
				</h:column>
				<h:column>
					<h:link value="Edit" outcome="edit_product">
						<f:param name="product" value="#{p.id}" />
					</h:link>
				</h:column>
				<h:column>
					<h:link value="Add Measurement" outcome="edit_measurement">
						<f:param name="product" value="#{p.id}" />
					</h:link>
				</h:column>
			</h:dataTable>

		</h:form>
	</f:view>
</h:body>

</html>