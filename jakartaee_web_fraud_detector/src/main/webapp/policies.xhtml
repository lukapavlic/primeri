<!DOCTYPE html>
<html
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
>
	
	<ui:composition template="WEB-INF/template/template.xhtml">
	
		<ui:define name="content">
			<f:view>
				<h:form>

					Current client:
					<h:inputText value="#{ins.client}" required="true" id="client_code"/> *
					<h:commandButton value="Update" actionListener="#{ins.updateClient}" />

					<hr/>

					<h:dataTable var="p" value="#{ins.policies}">
						<f:facet name="header">
							Policies
						</f:facet>
						<h:column>
							#{p.policyCode}
						</h:column>
						<h:column>
							#{p.acquiredDate} - #{p.validTillDate}
						</h:column>
						<h:column>
							<h:outputText value="First owner" rendered="#{p.firstCarOwner}" />
						</h:column>
						<h:column>
							#{p.carType}
						</h:column>
						<h:column>
							<h:outputText value="- animals" rendered="#{p.animals}" />
							<h:outputText value="- thunderStorm" rendered="#{p.thunderStorm}" />
							<h:outputText value="- vandalism" rendered="#{p.vandalism}" />
							<h:outputText value="- lights" rendered="#{p.lights}" />
							<h:outputText value="- glasses" rendered="#{p.glasses}" />
						</h:column>
						<h:column>
							<h:commandLink actionListener="#{ins.selectPolicy(p.id)}" action="claims" value="Claims" />
						</h:column>
					</h:dataTable>

					<hr/>

					<table>
						<tr>
							<td>Policy Code:</td>
							<td><h:inputText value="#{ins.newPolicy.policyCode}" required="true" id="new_code"/> *</td>
						</tr>
						<tr>
							<td>Acquired date:</td>
							<td><h:inputText value="#{ins.newPolicy.acquiredDate}" id="new_ack_date"/></td>
						</tr>
						<tr>
							<td>Valid till:</td>
							<td><h:inputText value="#{ins.newPolicy.validTillDate}" id="new_valid_till"/></td>
						</tr>
						<tr>
							<td> </td>
							<td><h:selectBooleanCheckbox value="#{ins.newPolicy.firstCarOwner}" id="new_first_owner"/> First owner</td>
						</tr>
						<tr>
							<td>Car type:</td>
							<td>
								<h:selectOneListbox value="#{ins.newPolicy.carType}" id="new_car_type">
									<f:selectItem itemValue="Sedan" itemDescription="Sedan" />
									<f:selectItem itemValue="Sports" itemDescription="Sports" />
									<f:selectItem itemValue="Utility" itemDescription="Utility" />
								</h:selectOneListbox>
							</td>
						</tr>
						<tr>
							<td>Insured:</td>
							<td>
								<h:selectBooleanCheckbox value="#{ins.newPolicy.glasses}" id="new_pol_gl"/> Glasses <br/>
								<h:selectBooleanCheckbox value="#{ins.newPolicy.lights}" id="new_pol_lig"/> Lights <br/>
								<h:selectBooleanCheckbox value="#{ins.newPolicy.vandalism}" id="new_pol_vand"/> Vandalism <br/>
								<h:selectBooleanCheckbox value="#{ins.newPolicy.thunderStorm}" id="new_pol_thun"/> Thunderstorm <br/>
								<h:selectBooleanCheckbox value="#{ins.newPolicy.animals}" id="new_pol_anim"/> Animals <br/>
							</td>
						</tr>
						<tr>
							<td> </td>
							<td><h:commandButton value="Purchase new Policy" actionListener="#{ins.addNewPolicy()}" id="new_pol_purchase"/></td>
						</tr>
					</table>
				</h:form>
			</f:view>
		</ui:define>
		
	</ui:composition>

</html>